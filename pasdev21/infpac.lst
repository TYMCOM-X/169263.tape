SEGINF - GET MEMORY SEGMENT INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1
INFPAC	MAC	 7-Feb-69 15:12	

					;    +--------------------------------------------------------------+
					;    |                                                              |
					;    |                        S E G I N F O                         |
					;    |                        - - - - - - -                         |
					;    |                                                              |
					;    +--------------------------------------------------------------+
					;    
					;    MDSI, Company Confidential
					;    
					;    SYSTEM:  INFPAC - environmental information routines
					;    
					;    STARTED:  10/13/78
					;    
					;    PURPOSE:  GET INFORMATION ABOUT USER'S MEMORY SEGMENTS.
					;    
					;    USAGE:
					;    
					;       EXTERNAL PROCEDURE SEGINFO(VAR SEGSTUFF: SEGRECD);
					;    
					;    OUTPUT:
					;    
					;       SEGSTUFF.LOWLEN
					;                   LENGTH OF USER'S LOW SEGMENT IN WORDS.
					;    
					;       SEGSTUFF.HIGHLEN
					;                   LENGTH OF USER'S HIGH SEGMENT IN WORDS  (ZERO  IF
					;                   NO HIGH SEGMENT).
					;    
					;       SEGSTUFF.RDONLY
					;                   SET  TO  TRUE  IF  A  HIGH  SEGMENT EXISTS AND IS
					;                   READ-ONLY; SET TO FALSE OTHERWISE.
					;    
					;       SEGSTUFF.SHARABLE
					;                   SET TO TRUE IF  A  HIGH  SEGMENT  EXISTS  AND  IS
					;                   SHARABLE; SET TO FALSE OTHERWISE.
					;    
					;    INCLUDE FILES REQUIRED:
					;    
					;       INFPAC.INC
					;    
					;    RESPONSIBLE:  S.  M.  ROUSH
					;    
					;    ----------------------------------------------------------------
					        TITLE	SEGINF - GET MEMORY SEGMENT INFORMATION.
	400000'					TWOSEG
	400000'					RELOC	400000

					;  DECLARE ENTRY POINT.

						ENTRY SEGINF


					; SEARCH FOR MONITOR CALL RELATED SYMBOLS.

					;	SEARCH	UUOSYM
SEGINF - GET MEMORY SEGMENT INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-1
INFPAC	MAC	 7-Feb-69 15:12	


			000044		.JBREL=44
			000115		.JBHRL=115
			000014		.GTSGN=14
		200000	000000		SN%SHR=200000000000
		100000	000000		SN%UWP=100000000000


					;  DEFINE REGISTER SYMBOLICS.

			000002		AC2=2
			000010		AC10=10
			000017		STK=17

					;  DEFINE OFFSETS OF FIELDS WITHIN SEGRECD.

			000000		LOWLEN=0
			000001		HIGHLEN=1
			000002		RDONLY=2
			000003		SHARED=3

					;
					;

	400000'				SEGINF:
	400000'	550 10 0 00 000044 		HRRZ	AC10,.JBREL	; GET HIGHEST LEGAL LOW SEG ADDRESS.
	400001'	350 00 0 00 000010 		AOS	,AC10		; ADD 1 TO GET LENGTH.
	400002'	202 10 0 02 000000 		MOVEM	AC10,LOWLEN(AC2)	; MOVE TO USER RECORD.
					;
	400003'	554 10 0 00 000115 		HLRZ	AC10,.JBHRL	; GET HIGH SEGMENT LENGTH.
	400004'	202 10 0 02 000001 		MOVEM	AC10,HIGHLEN(AC2)	; MOVE TO USER RECORD.
					;
	400005'	402 00 0 02 000003 		SETZM	,SHARED(AC2)	; INIT BOTH 'SHARED' AND 'RDONLY'
	400006'	402 00 0 02 000002 		SETZM	,RDONLY(AC2)	;    TO FALSE.
					;
	400007'				GSIEND:
	400007'	263 17 0 00 000000 		POPJ	STK,		; RETURN TO CALLER.
					;
					;
						PRGEND

NO ERRORS DETECTED

HI-SEG. BREAK IS 400010
PROGRAM BREAK IS 000000
CPU TIME USED 00:41.482

10P CORE USED
SEGINF - GET MEMORY SEGMENT INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page S-1
INFPAC	MAC	 7-Feb-69 15:12		SYMBOL TABLE

AC10		000010		
AC2		000002		
GSIEND		400007'		
HIGHLE		000001		
LOWLEN		000000		
RDONLY		000002		
SEGINF		400000'	ent	
SHARED		000003		
SN%SHR	200000	000000		
SN%UWP	100000	000000		
STK		000017		
.GTSGN		000014		
.JBHRL		000115		
.JBREL		000044		

USRSTA - GET USER JOB STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-2
INFPAC	MAC	 7-Feb-69 15:12	




					;    +--------------------------------------------------------------+
					;    |                                                              |
					;    |                         U S R S T A                          |
					;    |                         - - - - - -                          |
					;    |                                                              |
					;    +--------------------------------------------------------------+
					;    
					;    MDSI, Company Confidential
					;    
					;    STARTED:  10/13/78
					;    
					;    PURPOSE: 
					;    
					;    USAGE:
					;    
					;       EXTERNAL PROCEDURE USRSTAT(VAR USRSTATS: USTATREC);
					;    
					;    OUTPUT:
					;    
					;       USRSTATS.CRUS60
					;                   'HIGH PRECISION' CRUS USED BY USER'S JOB.  DIVIDE
					;                   BY 60 TO GET INTEGRAL NUMBER OF CRUS.
					;    
					;       USRSTATS.DISKRDS
					;                   NUMBER OF DISK BLOCKS READ BY USER JOB.
					;    
					;       USRSTATS.DISKWRS
					;                   NUMBER OF DISK BLOCKS WRITTEN BY USER JOB.
					;    
					;       USRSTATS.RUNTIME
					;                   CURRENT  RUNTIME  OF  USER'S JOB IN 80 NANOSECOND
					;                   UNITS.
					;    
					;       USRSTATS.ELAPTIME
					;                   CURRENT TIME  ELAPSED  SINCE  JOB  INITIATION  IN
					;                   SECONDS.
					;    
					;    INCLUDE FILES REQUIRED:
					;    
					;       INFPAC.INC
					;    
					;    RESPONSIBLE:  S.  M.  ROUSH
					;    
					;    ----------------------------------------------------------------
						TITLE	USRSTA - GET USER JOB STATISTICS.
	400000'					TWOSEG
	400000'					RELOC	400000

					;  DECLARE ENTRY POINT.

						ENTRY	USRSTA

USRSTA - GET USER JOB STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-3
INFPAC	MAC	 7-Feb-69 15:12	



					;  SEARCH FOR MONITOR CALL RELATED SYMBOLS.

					;	SEARCH	UUOSYM

			000017		.GTRCT=17
			000020		.GTWCT=20



					;  DEFINE REGISTER SYMBOLICS.

			000002		AC2=2
			000010		AC10=10
			000011		AC11=11
			000012		AC12=12
			000017		STK=17


					;  DEFINE OFFSETS WITHIN USTATREC.

			000000		CRUS=0
			000001		DRDS=1
			000002		DWRTS=2
			000003		RUNT=3
			000004		ELAPT=4


					;

	400000'				USRSTA:
	400000'	561 10 0 00 000004 		HRROI	AC10,4		; GETTAB NUMBER FOR LOW ORDER WORD OF
	400001'	047 10 0 00 000041 		GETTAB	AC10,		; TRUS * 10000.
	400002'	402 00 0 02 000000 		SETZM	CRUS(AC2)	; ERROR RETURN, SAY ZERO
	400003'	221 10 0 00 000003 		IMULI	AC10,3		; CONVERT TO TRUS * 60
	400004'	231 10 0 00 000764 		IDIVI	AC10,^D500
	400005'	202 10 0 02 000000 		MOVEM	AC10,CRUS(AC2)	; MOVE TO USER'S RECORD
					;
	400006'	561 10 0 00 000017 		HRROI	AC10,.GTRCT	; DISK READS COUNT TABLE.
	400007'	047 10 0 00 000041 		GETTAB	AC10,
	400010'	255 00 0 00 000000 		JFCL			; IGNORE ERROR RETURNS.
	400011'	621 10 0 00 777700 		TLZ	AC10,777700	; stomp high order crap
	400012'	202 10 0 02 000001 		MOVEM	AC10,DRDS(AC2)	; MOVE TO USER RECORD.
					;
	400013'	561 10 0 00 000020 		HRROI	AC10,.GTWCT	; DISK WRITES COUNT TABLE.
	400014'	047 10 0 00 000041 		GETTAB	AC10,
	400015'	255 00 0 00 000000 		JFCL			; IGNORE ERROR RETURNS.
	400016'	621 10 0 00 777700 		TLZ	AC10,777700	; stomp high order crap
	400017'	202 10 0 02 000002 		MOVEM	AC10,DWRTS(AC2)	; MOVE TO USER RECORD.
					;
	400020'	561 10 0 00 777732 		HRROI	AC10,-46	; DOUBLE PRECISION MICROCYCLES
	400021'	047 10 0 00 000041 		GETTAB	AC10,
	400022'	255 00 0 00 000000 		JFCL
	400023'	202 11 0 02 000003 		MOVEM	AC11,RUNT(AC2)	; MOVE TO USER RECORD.
USRSTA - GET USER JOB STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-4
INFPAC	MAC	 7-Feb-69 15:12	

					;
	400024'	561 10 0 00 777766 		HRROI	AC10,-12	; ATTACH TIME IN SECONDS
	400025'	047 10 0 00 000041 		GETTAB	AC10,		
	400026'	255 00 0 00 000000 		JFCL			; IGNORE ERROR RETURN.
	400027'	202 10 0 02 000004 		MOVEM	AC10,ELAPT(AC2)	; MOVE TO USER RECORD.
					;
	400030'	263 17 0 00 000000 		POPJ	STK,		; RETURN TO CALLER.
					;
					;
	000000'					RELOC	0		; ACUUO. BLOCK IN LOWSEG
	000000'	777777	777777		ACBLK:	EXP	-1		; GET DATA FOR THIS JOB
	000001'	000000	000000			EXP	0		; CRU'S COUNT GOES HERE
					;
						PRGEND

NO ERRORS DETECTED

HI-SEG. BREAK IS 400031
PROGRAM BREAK IS 000002
CPU TIME USED 00:13.191

10P CORE USED
USRSTA - GET USER JOB STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page S-2
INFPAC	MAC	 7-Feb-69 15:12		SYMBOL TABLE

AC10		000010		
AC11		000011		
AC12		000012		
AC2		000002		
ACBLK		000000'		
CRUS		000000		
DRDS		000001		
DWRTS		000002		
ELAPT		000004		
GETTAB	047000	000041		
RUNT		000003		
STK		000017		
USRSTA		400000'	ent	
.GTRCT		000017		
.GTWCT		000020		

JOBINF - GET USER JOB INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-5
INFPAC	MAC	 7-Feb-69 15:12	



					;    +--------------------------------------------------------------+
					;    |                                                              |
					;    |                         J O B I N F                          |
					;    |                         - - - - - -                          |
					;    |                                                              |
					;    +--------------------------------------------------------------+
					;    
					;    MDSI, Company Confidential
					;    
					;    STARTED:  10/20/78
					;    
					;    PURPOSE: 
					;    
					;    USAGE:
					;    
					;       EXTERNAL PROCEDURE JOBINFO(VAR JOBSTUFF: JOBREC);
					;    
					;    OUTPUT:
					;    
					;       JOBSTUFF.HSEGPPN
					;                   PPN ASSOCIATED WITH JOB'S HIGH SEGMENT.
					;    
					;       JOBSTUFF.HSEGNAM
					;                   NAME OF JOB'S HIGH SEGMENT.
					;    
					;       JOBSTUFF.LSEGPPN
					;                   PPN ASSOCIATED WITH JOB'S LOW SEGMENT.
					;    
					;       JOBSTUFF.LSEGNAM
					;                   NAME ASSOCIATED WITH JOB'S LOW SEGMENT.
					;    
					;       JOBSTUFF.PROGDIR
					;                   PPN PROGRAM WAS RUN FROM.
					;    
					;       JOBSTUFF.JOBNUM
					;                   NUMBER ASSIGNED THIS JOB AT LOGIN.
					;    
					;    NOTES:  1.  A  NULL  STRING  WILL  BE  RETURNED  IF  ERRORS  ARE
					;       DETECTED  (FOR EXAMPLE, NO HIGH SEGMENT).  2.  IF THE PROGRAM
					;       IS RUN UNDER LINK WITHOUT A /SAVE OR /SSAVE, THE HIGH SEGMENT
					;       PPN IS RETURNED AS [0,0].
					;    
					;    INCLUDE FILES REQUIRED:
					;    
					;       INFPAC.INC
					;    
					;    RESPONSIBLE:  S.  M.  ROUSH
					;    
					;    ----------------------------------------------------------------
						TITLE	JOBINF - GET USER JOB INFORMATION.
	400000'					TWOSEG
	400000'					RELOC	400000

JOBINF - GET USER JOB INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-6
INFPAC	MAC	 7-Feb-69 15:12	

					; DECLARE ENTRY POINT

						ENTRY	JOBINF

					; SEARCH FOR UUO SYMBOLS.

					;	SEARCH	UUOSYM

			000002		.GTPPN=2
			000003		.GTPRG=3
			000031		.GTNM1=31
			000032		.GTNM2=32

					; DEFINE REGISTER SYMBOLICS

			000002		AC2=2
			000010		AC10=10
			000011		AC11=11
			000012		AC12=12
			000013		AC13=13
			000014		AC14=14
			000017		STK=17

					; DEFINE OFFSETS OF FIELDS WITHIN A JOBREC.

			000000		HSEGPPN=0
			000004		HSEGNAM=4
			000007		LSEGPPN=7
			000013		LSEGNAM=^D11
			000016		PROGDIR=^D14
			000022		JOBNUM=^D18
			000023		PROJID=^D19

		133000	000000		opdef	ADJBP[IBP]

	000000'					reloc	0
	000000'				prjcde:	block	3
	400000'					reloc	400000


	400000'				JOBINF:
	400000'	402 00 0 02 000000 		SETZM	HSEGPPN(AC2)		; INIT STRING LENGTH TO 0.
	400001'	200 10 0 00 400126'		MOVE	AC10,[-2,,.GTPPN]
	400002'	047 10 0 00 000041 		GETTAB	AC10,			; GET HIGH SEG PPN.
	400003'	254 00 0 00 400006'		JRST	HNAM			; ERROR - RETURN NULL STRING.
	400004'	201 11 0 02 000000 		MOVEI	AC11,HSEGPPN(AC2)	; AC11 - ADDRESS OF RESULT STRING.
	400005'	260 17 0 00 400060'		PUSHJ	STK,WRTPPN		; CONVERT PPN TO STRING.

					;

	400006'				HNAM:
	400006'	402 00 0 02 000004 		SETZM	HSEGNAM(AC2)		; INIT STRING LENGTH TO ZERO.
	400007'	200 10 0 00 400127'		MOVE	AC10,[-2,,.GTPRG]	;
	400010'	047 10 0 00 000041 		GETTAB	AC10,			; GET HIGH SEG NAME.
	400011'	254 00 0 00 400014'		JRST	LPPN			; ERROR - NULL STRING RETURNED.
JOBINF - GET USER JOB INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-7
INFPAC	MAC	 7-Feb-69 15:12	

	400012'	201 11 0 02 000004 		MOVEI	AC11,HSEGNAM(AC2)	; AC11 - ADDR OF DEST STRING.
	400013'	260 17 0 00 400074'		PUSHJ	STK,WRTNAM		; CONVERT NAME TO STRING.

					;

	400014'				LPPN:
	400014'	402 00 0 02 000007 		SETZM	LSEGPPN(AC2)		; INIT STRING LENGTH TO ZERO.
	400015'	561 10 0 00 000002 		HRROI	AC10,.GTPPN
	400016'	047 10 0 00 000041 		GETTAB	AC10,			; GET LOW SEG PPN.
	400017'	254 00 0 00 400022'		JRST	LNAM			; ERROR - RETURN NULL STRING.
	400020'	201 11 0 02 000007 		MOVEI	AC11,LSEGPPN(AC2)	; AC11 - ADDR OF STRING RESULT.
	400021'	260 17 0 00 400060'		PUSHJ	STK,WRTPPN		; CONVERT PPN TO STRING.

					;

	400022'				LNAM:
	400022'	402 00 0 02 000013 		SETZM	LSEGNAM(AC2)		; INIT STRING LENGTH TO ZERO.
	400023'	561 10 0 00 000003 		HRROI	AC10,.GTPRG		; 
	400024'	047 10 0 00 000041 		GETTAB	AC10,			; GET LOW SEG NAME.
	400025'	254 00 0 00 400030'		JRST	PDIR			; ERROR - NULL STRING RETURNED.
	400026'	201 11 0 02 000013 		MOVEI	AC11,LSEGNAM(AC2)	; AC11 - ADDR OF RESULT STRING.
	400027'	260 17 0 00 400074'		PUSHJ	STK,WRTNAM		; CONVERT NAME TO STRING.

					;

	400030'				PDIR:
	400030'	402 00 0 02 000016 		SETZM	PROGDIR(AC2)		; INIT STRING LENGTH TO ZERO.
	400031'	561 10 0 00 777753 		HRROI	AC10,-25		;
	400032'	047 10 0 00 000041 		GETTAB	AC10,			; GET DIRECTORY PROGRAM WAS RUN FROM.
	400033'	254 00 0 00 400036'		JRST	JOBNO			; ERROR - RETURN NULL STRING.
	400034'	201 11 0 02 000016 		MOVEI	AC11,PROGDIR(AC2)	; AC11 - ADDR OF RESULT STRING.
	400035'	260 17 0 00 400060'		PUSHJ	STK,WRTPPN		; CONVERT TO STRING.

					;

	400036'				JOBNO:
	400036'	047 10 0 00 000030 		PJOB	AC10,			; GET JOB NUMBER.
	400037'	202 10 0 02 000022 		MOVEM	AC10,JOBNUM(AC2)	; NO ERROR RETURN.


	400040'	201 11 0 02 000023 		MOVEI	AC11,PROJID(AC2)	; addr of project id field (JDR)
	400041'	402 00 0 11 000000 		SETZM	0,0(AC11)		; null string
	400042'	551 10 0 00 000000'		HRRZI	AC10,prjcde		; arg for call
	400043'	047 10 0 00 777717 		calli	ac10,-61		; get project code
	400044'	263 17 0 00 000000 		POPJ	STK,0
	
	400045'	200 13 0 00 400130'		move	ac13,[point 7,prjcde-1,0]	; source byte pointer
	400046'	200 12 0 00 400131'		move	ac12,[point 7,1(ac11)]	; dest byte pointer

	400047'	134 14 0 00 000013 	wrtid:	ildb	ac14,ac13
	400050'	260 17 0 00 400111'		pushj	stk,wrchr		; move one char to user buffer
	400051'	200 10 0 11 000000 		move	ac10,(ac11)
	400052'	306 10 0 00 000014 		cain	ac10,^D12			; moved all 12 chars yet?
	400053'	263 17 0 00 000000 		popj	stk,			; yes - return to caller
	400054'	254 00 0 00 400047'		jrst	wrtid			; no - branch to top of loop
JOBINF - GET USER JOB INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-8
INFPAC	MAC	 7-Feb-69 15:12	


	400055'	402 00 0 11 000000 	NAMERR:	SETZM	0,0(AC11)		; null string
	400056'	263 17 0 00 000000 		POPJ	STK,0			; split

					;

	400057'	263 17 0 00 000000 		POPJ	STK,			; RETURN TO CALLER.


					;  WRTPPN - CONVERTS THE PPN IN AC10 INTO A STRING
					;  ( '[XXXX,YYYY]' FORMAT).  THE ADDRESS OF THE DESTINATION
					;  STRING SHOULD BE IN AC11 UPON ENTRY.  THE FIRST WORD OF 
					;  THE STRING IS THE LENGTH OF THE RESULT WHICH IS SET BY
					;  THIS ROUTINE, AND, ASSUMED TO BE ZERO ON ENTRY.

	400060'				WRTPPN:
	400060'	200 12 0 00 400131'		MOVE	AC12,[POINT 7,1(AC11)]
	400061'	201 14 0 00 000133 		MOVEI	AC14,"["		; WRITE LEFT BRACKET.
	400062'	260 17 0 00 400111'		PUSHJ	STK,WRCHR
	400063'	554 13 0 00 000010 		HLRZ	AC13,AC10		; WRITE PROJECT NUMBER.
	400064'	260 17 0 00 400114'		PUSHJ	STK,WRNUM
	400065'	201 14 0 00 000054 		MOVEI	AC14,","		; WRITE THE COMMA.
	400066'	260 17 0 00 400111'		PUSHJ	STK,WRCHR
	400067'	550 13 0 00 000010 		HRRZ	AC13,AC10		; WRITE PROGRAMMER NUMBER.
	400070'	260 17 0 00 400114'		PUSHJ	STK,WRNUM
	400071'	201 14 0 00 000135 		MOVEI	AC14,"]"		; WRITE RIGHT BRACKET.
	400072'	260 17 0 00 400111'		PUSHJ	STK,WRCHR		
	400073'	263 17 0 00 000000 		POPJ	STK,			; RETURN TO CALLER.

					;  WRTNAM - CONVERT SIXBIT CONTENTS OF AC10 TO ASCII AND
					;  MOVE TO PASCAL STRING ADDRESSED BY AC11.  INCREMENTS
					;  LENGTH FIELD OF STRING BY 6.

	400074'				WRTNAM:
	400074'	200 12 0 00 400131'		MOVE	AC12,[POINT 7,1(AC11)]
	400075'	200 13 0 11 000000 		MOVE	AC13,0(AC11)		; get current length (JDR)
	400076'	322 13 0 00 400101'		JUMPE	AC13,LOOP1-1		; skip ADJPB if zero length
	400077'	133 13 0 00 000012 		ADJBP	AC13,AC12
	400100'	200 12 0 00 000013 		MOVE	AC12,AC13
	400101'	201 13 0 00 000006 		MOVEI	AC13,6
					;
	400102'				LOOP1:
	400102'	241 10 0 00 000006 		ROT	AC10,6			; ROTATE RIGHT 6 BITS.
	400103'	200 14 0 00 000010 		MOVE	AC14,AC10		; ISOLATE LOWER 6 BITS.
	400104'	405 14 0 00 000077 		ANDI	AC14,77			; 
	400105'	271 14 0 00 000040 		ADDI	AC14,40			; CONVERT SIXBIT TO ASCII.
	400106'	260 17 0 00 400111'		PUSHJ	STK,WRCHR		; MOVE IT, INCR B.P., INCR STRING LEN.
	400107'	366 13 0 00 400102'		SOJN	AC13,LOOP1		; DO IT HALF A DOZEN TIMES!
	
	400110'	263 17 0 00 000000 		POPJ	STK,			; RETURN.

					;  WRCHR - MOVE CHARACTER IN AC14 TO DESTINATION VIA
					;  BYTE POINTER IN AC12.  INCREMENT BYTE POINTER AND 
					;  STRING LENGTH FIELD.  STRING LENGTH FIELD ADDRESS IS
					;  IN AC11.
JOBINF - GET USER JOB INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-9
INFPAC	MAC	 7-Feb-69 15:12	


	400111'				WRCHR:
	400111'	350 00 0 11 000000 		AOS	(AC11)			; INCREMENT STRING LENGTH.
	400112'	136 14 0 00 000012 		IDPB	AC14,AC12		; MOVE BYTE, INCR B.P.
	400113'	263 17 0 00 000000 		POPJ	STK,			; RETURN.

					; WRNUM - CONVERT INTEGER IN AC13 TO ASCII OCTAL STRING.
					;  DESTINATION BYTE POINTER IS IN AC12.  INCREMENT BYTE POINTER 
					;  AND STRING LENGTH FIELD.  STRING LENGTH FIELD ADDRESS IS IN AC11.

	400114'				WRNUM:
	400114'	200 14 0 00 000013 		MOVE	AC14,AC13		; ISOLATE LOW ORDER DIGIT.
	400115'	405 14 0 00 000007 		ANDI	AC14,7
	400116'	271 14 0 00 0 		ADDI	AC14,"0"		; CONVERT TO ASCII.
	400117'	261 17 0 00 000014 		PUSH	STK,AC14		; SAVE IT.
	400120'	242 13 0 00 777775 		LSH	AC13,-3			; GET REMAINING NUMBER.
	400121'	332 00 0 00 000013 		SKIPE	AC13			; IF NOT ZERO, THEN
	400122'	260 17 0 00 400114'		PUSHJ	STK,WRNUM		;   RECURSIVELY CONVERT IT.
	400123'	262 17 0 00 000014 		POP	STK,AC14		; GET LEFTMOST REMAINING ASCII
	400124'	260 17 0 00 400111'		PUSHJ	STK,WRCHR		;   DIGIT AND WRITE IT.
	400125'	263 17 0 00 000000 		POPJ	STK,			; RETURN TO CALLER, WHOMEVER IT
										;   HAPPENS TO BE THIS TIME AROUND.
					;
					;
						PRGEND

NO ERRORS DETECTED

HI-SEG. BREAK IS 400132
PROGRAM BREAK IS 000003
CPU TIME USED 00:29.073

10P CORE USED
JOBINF - GET USER JOB INFORMATION.	MACRO %53A(1155) 10:44 22-Oct-82 Page S-3
INFPAC	MAC	 7-Feb-69 15:12		SYMBOL TABLE

AC10		000010		
AC11		000011		
AC12		000012		
AC13		000013		
AC14		000014		
AC2		000002		
ADJBP	133000	000000		
GETTAB	047000	000041		
HNAM		400006'		
HSEGNA		000004		
HSEGPP		000000		
JOBINF		400000'	ent	
JOBNO		400036'		
JOBNUM		000022		
LNAM		400022'		
LOOP1		400102'		
LPPN		400014'		
LSEGNA		000013		
LSEGPP		000007		
NAMERR		400055'		
PDIR		400030'		
PJOB	047000	000030		
PRJCDE		000000'		
PROGDI		000016		
PROJID		000023		
STK		000017		
WRCHR		400111'		
WRNUM		400114'		
WRTID		400047'		
WRTNAM		400074'		
WRTPPN		400060'		
.GTNM1		000031		
.GTNM2		000032		
.GTPPN		000002		
.GTPRG		000003		

SYSSTA - GET SYSTEM STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-10
INFPAC	MAC	 7-Feb-69 15:12	




					;    +--------------------------------------------------------------+
					;    |                                                              |
					;    |                         S Y S S T A                          |
					;    |                         - - - - - -                          |
					;    |                                                              |
					;    +--------------------------------------------------------------+
					;    
					;    MDSI, Company Confidential
					;    
					;    SYSTEM:  INFPAC - environmental information routines
					;    
					;    STARTED:  10/13/78
					;    
					;    PURPOSE: 
					;    
					;    USAGE:
					;    
					;       EXTERNAL PROCEDURE SYSSTAT(VAR SYSSTATS: SSTATREC);
					;    
					;    OUTPUT:
					;    
					;       SYSSTATS.NLOGIN
					;                   NUMBER OF JOBS CURRENTLY LOGGED IN.
					;    
					;       SYSSTATS.MAXCOR
					;                   SIZE IN WORDS OF LARGEST LEGAL USER JOB.
					;    
					;    INCLUDE FILES REQUIRED:
					;    
					;       INFPAC.INC
					;    
					;    RESPONSIBLE:  S.  M.  ROUSH
					;    
					;    ----------------------------------------------------------------
						TITLE	SYSSTA - GET SYSTEM STATISTICS.
	400000'					TWOSEG
	400000'					RELOC	400000

					;  DECLARE ENTRY POINT.

						ENTRY	SYSSTA

					;  SEARCH FOR MONITOR CALL EXTERNALS.

					;	SEARCH	UUOSYM

			000005		.WSRMX=5

					;  DEFINE REGISTER SYMBOLICS.

			000002		AC2=2
			000010		AC10=10
SYSSTA - GET SYSTEM STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page 1-11
INFPAC	MAC	 7-Feb-69 15:12	

			000011		AC11=11
			000017		STK=17

					; DEFINE OFFSETS OF FIELDS WITHIN A SSTATREC.


			000000		NLOGIN=0
			000001		MAXCOR=1


	400000'				SYSSTA:
	400000'	402 00 0 02 000000 		SETZM	NLOGIN(AC2)	; NOT AVAILABLE FROM TYMSHARE
					;

	400001'	200 10 0 00 400007'		MOVE	AC10,[.WSRMX,,AC11]	; FUNCTION CODE (WORKING SET MAX) AND
	400002'	047 10 0 00 777704 		CALLI	AC10,-74		; RESULT LOCATION
	400003'	255 00 0 00 000000 		JFCL			; IGNORE ERROR RETURN.
	400004'	221 11 0 00 001000 		IMULI	AC11,^D512	; CONVERT PAGES TO WORDS
	400005'	202 11 0 02 000001 		MOVEM	AC11,MAXCOR(AC2)	; MOVE TO USER LOC.
					;
	400006'	263 17 0 00 000000 		POPJ	STK,
					;
					;
						END

NO ERRORS DETECTED

HI-SEG. BREAK IS 400010
PROGRAM BREAK IS 000000
CPU TIME USED 00:06.977

10P CORE USED
SYSSTA - GET SYSTEM STATISTICS.	MACRO %53A(1155) 10:44 22-Oct-82 Page S-4
INFPAC	MAC	 7-Feb-69 15:12		SYMBOL TABLE

AC10		000010		
AC11		000011		
AC2		000002		
MAXCOR		000001		
NLOGIN		000000		
STK		000017		
SYSSTA		400000'	ent	
.WSRMX		000005		

  S 0